(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,s){},102:function(e,t,s){},134:function(e,t,s){},135:function(e,t,s){},138:function(e,t,s){},139:function(e,t,s){},140:function(e,t,s){},141:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),c=s(34),o=s.n(c),i=(s(91),s(28)),r=(s(92),s(8)),d=s(9),l=s(11),h=s(10),p=(s(93),s(55)),j=s.n(p),u=s(72),b=s(165),v=s(156),O=s(157),x=s(158),f=s(159),_=s(160),m=s(161),g=s(162),N=(s(95),s(1)),w=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"vote",value:function(){var e=Object(u.a)(j.a.mark((function e(t,s,a,n,c){var o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field:t,val:s,id:a,fieldcount:n,newcount:c,db:this.props.db})},fetch("https://proud-structure-327618.uc.r.appspot.com/home/vote",o);case 2:case"end":return e.stop()}}),e,this)})));return function(t,s,a,n,c){return e.apply(this,arguments)}}()},{key:"reTweet",value:function(){window.confirm("\xbfDeseas compartir el post?")?console.log("Repostear..."):console.log("Nada...")}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"post",children:[Object(N.jsx)("div",{className:"post__avatar",children:Object(N.jsx)(b.a,{src:this.props.avatar})}),Object(N.jsxs)("div",{className:"post__body",children:[Object(N.jsxs)("div",{className:"post__header",children:[Object(N.jsx)("div",{className:"post__headerText",children:Object(N.jsxs)("h3",{children:[this.props.username," ",Object(N.jsx)("span",{children:this.props.verified&&Object(N.jsx)(v.a,{className:"post__badge"})}),Object(N.jsx)("span",{className:"post__headerSpecial",children:"\xa0\xb7\xa0"}),Object(N.jsx)("span",{className:"post__headerSpecial",children:this.props.date})]})}),Object(N.jsx)("div",{className:"post__headerDescription",children:Object(N.jsx)("p",{children:this.props.text})}),Object(N.jsx)("div",{className:"post__Hashtags",children:this.props.hashtags.map((function(t){var s=t.tag||t;return Object(N.jsxs)("a",{className:"twitter-hashtag",href:"https://twitter.com/search?q=".concat(s),target:"_blank",rel:"noreferrer",children:["#",s,Object(N.jsx)("br",{})]},e.props.db+s+e.props.id)}))})]}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:"post__footer",children:[Object(N.jsxs)("div",{className:"post__icon",children:[Object(N.jsx)("div",{className:"icon__vote",children:this.props.upvoted?Object(N.jsx)(O.a,{onClick:function(){e.vote("upvoted",0,e.props.id,"upvotes_count",parseInt(e.props.upvotes_count)-1)},fontSize:"small"}):Object(N.jsx)(x.a,{onClick:function(){e.vote("upvoted",1,e.props.id,"upvotes_count",parseInt(e.props.upvotes_count)+1)},fontSize:"small"})}),Object(N.jsx)("p",{className:"post__count",children:this.props.upvotes_count})]}),Object(N.jsxs)("div",{className:"post__icon",children:[Object(N.jsx)("div",{className:"icon__vote",children:this.props.downvoted?Object(N.jsx)(f.a,{onClick:function(){e.vote("downvoted",0,e.props.id,"downvotes_count",parseInt(e.props.downvotes_count)-1)},fontSize:"small"}):Object(N.jsx)(_.a,{onClick:function(){e.vote("downvoted",1,e.props.id,"downvotes_count",parseInt(e.props.downvotes_count)+1)},fontSize:"small"})}),Object(N.jsx)("p",{className:"post__count",children:this.props.downvotes_count})]}),Object(N.jsx)(m.a,{fontSize:"small"}),Object(N.jsx)(g.a,{onClick:function(){return e.reTweet()},fontSize:"small"})]})]})]})}}]),s}(a.Component),y=w,S=s(164);s(101);function k(e){var t=new Date,s=t.getDate(),a=t.getMonth()+1,n=t.getFullYear();return"".concat(s<10?"0".concat(s):"".concat(s)).concat(e).concat(a<10?"0".concat(a):"".concat(a)).concat(e).concat(n)}var C=function(e){var t=e._db,s=Object(a.useState)(""),n=Object(i.a)(s,2),c=n[0],o=n[1],r=Object(a.useState)(""),d=Object(i.a)(r,2),l=d[0],h=d[1];return Object(N.jsx)("div",{className:"tweetBox",children:Object(N.jsxs)("form",{children:[Object(N.jsxs)("div",{className:"tweetBox__textarea",children:[Object(N.jsx)(b.a,{src:"https://upload.wikimedia.org/wikipedia/commons/4/4a/Usac_logo.png"}),Object(N.jsx)("textarea",{maxLength:"255",value:c,onChange:function(e){return o(e.target.value)},placeholder:"\xbfQu\xe9 est\xe1 pasando?",type:"text"})]}),Object(N.jsx)("div",{className:"hashtagBox__input",children:Object(N.jsx)("input",{maxLength:"255",value:l,onChange:function(e){return h(e.target.value)},placeholder:"Coloca tus hashtags favoritos",type:"text"})}),Object(N.jsx)(S.a,{disabled:""===c,onClick:function(e){e.preventDefault();var s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"Sistemas Operativos 1",content:c,hashtags:l.replaceAll("#","").split(" "),upvoted:"0",upvotes_count:0,downvoted:"0",downvotes_count:0,fecha:k("/"),avatar:"https://upload.wikimedia.org/wikipedia/commons/4/4a/Usac_logo.png",db:t})};fetch("https://proud-structure-327618.uc.r.appspot.com/home/post",s),o(""),h("")},type:"submit",className:"tweetBox__button",children:"Postear"})]})})};s(102);var T=function(e){var t=e.selected;return Object(N.jsxs)("select",{onChange:function(e){!function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({db:e.target.value})};fetch("https://proud-structure-327618.uc.r.appspot.com/home/changedb",t)}(e)},children:[Object(N.jsx)("option",{selected:"1"===t,value:"1",children:"MySQL"}),Object(N.jsx)("option",{selected:"2"===t,value:"2",children:"Cosmos DB"})]})},D=s(77),P=Object(D.io)("https://proud-structure-327618.uc.r.appspot.com"),I=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={posts:[],db:"1"},e}return Object(d.a)(s,[{key:"getPosts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.db,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({db:t})};fetch("https://proud-structure-327618.uc.r.appspot.com/home",s).then((function(e){return e.json()})).then((function(s){e.setState({posts:s,db:t})}))}},{key:"componentDidMount",value:function(){var e=this;this.getPosts(),P.on("post-added",(function(t){console.log("post-added!"),e.getPosts()})),P.on("post-voted",(function(t){console.log("post-voted!"),e.getPosts()})),P.on("db-changed",(function(t){console.log("database-changed!",t),e.getPosts(t)})),P.on("disconnect",(function(e){console.log("Socket disconnected because of "+e)}))}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"feed",children:[Object(N.jsxs)("div",{className:"feed__header",children:[Object(N.jsx)("h2",{children:"Feed"}),Object(N.jsx)(T,{selected:this.state.db})]}),Object(N.jsx)(C,{_db:this.state.db}),this.state.posts.map((function(t){return Object(N.jsx)(y,{username:t.username,verified:!0,text:t.content,avatar:t.avatar||"https://www.pikpng.com/pngl/m/80-805068_my-profile-icon-blank-profile-picture-circle-clipart.png",upvoted:1===t.upvoted,upvotes_count:t.upvotes_count,downvoted:1===t.downvoted,downvotes_count:t.downvotes_count,hashtags:t.hashtags,date:t.fecha,id:t.id,db:e.state.db},e.state.db+t.id)}))]})}}]),s}(a.Component),E=I,z=(s(134),s(135),function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"row__news",children:[Object(N.jsx)("h3",{id:"username",children:this.props.username}),Object(N.jsx)("p",{id:"date",children:this.props.date}),Object(N.jsx)("p",{id:"text",children:this.props.text}),Object(N.jsx)("div",{className:"column__hashtags",children:this.props.hashtags.map((function(t){var s=t.tag||t;return Object(N.jsxs)("p",{children:["#",s]},e.props.db+s+e.props.id)}))})]})}}]),s}(a.Component)),M=z,B=s(0).Component,F=s(71),J=F.CanvasJS,L=F.CanvasJSChart,V=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){var e={animationEnabled:!0,theme:"dark1",backgroundColor:"transparent",height:365,title:{text:""},axisX:{title:"",reversed:!0},axisY:{title:"VOTES",includeZero:!0,labelFormatter:this.addSymbols},data:[{type:"bar",dataPoints:[{y:this.props.upvotes,label:"UPVOTES"},{y:this.props.downvotes,label:"DOWNVOTES"}]}]};return Object(N.jsx)(L,{options:e})}},{key:"addSymbols",value:function(e){var t=["","K","M","B"],s=Math.max(Math.floor(Math.log(e.value)/Math.log(1e3)),0);s>t.length-1&&(s=t.length-1);var a=t[s];return J.formatNumber(e.value/Math.pow(1e3,s))+a}}]),s}(B),A=V,H=s(0).Component,U=s(71).CanvasJSChart,G=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"getPercent",value:function(e){for(var t=0,s=0,a=[],n=0;n<e.length;n++){s+=e[n].counter}for(var c=0;c<e.length;c++){t=e[c].counter/s*100,a.push(t.toFixed(2))}return a}},{key:"getPoints",value:function(e,t){for(var s=[],a=0;a<e.length;a++)s.push({y:t[a],label:e[a].tag,indexLabelFontColor:"black"});return s}},{key:"render",value:function(){var e=this.getPercent(this.props.top_five),t={theme:"dark1",backgroundColor:"#15181c",height:325,animationEnabled:!0,exportFileName:"Top 5 Hashtags",exportEnabled:!0,title:{text:""},legend:{fontColor:"white",padding:8},data:[{type:"pie",showInLegend:!0,legendText:"{label}",toolTipContent:"{label}: <strong>{y}%</strong>",indexLabel:"{y}%",indexLabelPlacement:"inside",dataPoints:this.getPoints(this.props.top_five,e)}]};return Object(N.jsx)(U,{options:t})}}]),s}(H),R=G,W=function(e){Object(l.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={posts:[],noticias:"",hashtags:"",upvotes:"",downvotes:"",vs_upvotes:0,vs_downvotes:0,top_five:[],db:"1",fecha:e.getToday()},e}return Object(d.a)(s,[{key:"getData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.db,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.fecha,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({db:t,fecha:s})};fetch("https://proud-structure-327618.uc.r.appspot.com/admin",a).then((function(e){return e.json()})).then((function(t){console.log("retorno: ",t),e.setState({posts:t.posts||[],noticias:t.noticias||"",hashtags:t.hashtags||[],upvotes:t.upvotes||"",downvotes:t.downvotes||"",vs_upvotes:t.vs_upvotes||0,vs_downvotes:t.vs_downvotes||0,top_five:t.top_five||[]})}))}},{key:"componentDidMount",value:function(){var e=this;this.getData(),P.on("post-added",(function(t){console.log("post-added!"),e.getData()})),P.on("post-voted",(function(t){console.log("post-voted!"),e.getData()})),P.on("disconnect",(function(e){console.log("Socket disconnected because of "+e)}))}},{key:"changeDB",value:function(e){this.setState({db:e.target.value}),this.getData(e.target.value)}},{key:"changeDate",value:function(e){this.setState({fecha:e.target.value}),this.getData(this.state.db,e.target.value)}},{key:"getToday",value:function(){var e=new Date;return e.setDate(e.getDate()),e.toISOString().substr(0,10)}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"root__container",children:[Object(N.jsxs)("div",{className:"reports__header",children:[Object(N.jsx)("h1",{children:"Reportes"}),Object(N.jsxs)("select",{defaultValue:"1",onChange:function(t){e.changeDB(t)},children:[Object(N.jsx)("option",{value:"1",children:"MySQL"}),Object(N.jsx)("option",{value:"2",children:"Cosmos DB"})]})]}),Object(N.jsxs)("div",{className:"reports__contairner",children:[Object(N.jsxs)("div",{className:"cards__container",children:[Object(N.jsxs)("div",{className:"report__card",id:"card-1",children:[Object(N.jsx)("h2",{children:"NOTICIAS"}),Object(N.jsx)("p",{children:this.state.noticias})]}),Object(N.jsxs)("div",{className:"report__card",id:"card-2",children:[Object(N.jsx)("h2",{children:"HASHTAGS"}),Object(N.jsx)("p",{children:this.state.hashtags})]}),Object(N.jsxs)("div",{className:"report__card",id:"card-3",children:[Object(N.jsx)("h2",{children:"UPVOTES"}),Object(N.jsx)("p",{children:this.state.upvotes})]}),Object(N.jsxs)("div",{className:"report__card",id:"card-4",children:[Object(N.jsx)("h2",{children:"DOWNVOTES"}),Object(N.jsx)("p",{children:this.state.downvotes})]})]}),Object(N.jsxs)("div",{className:"flex__container",children:[Object(N.jsxs)("div",{className:"vrs__container",children:[Object(N.jsxs)("div",{className:"vrs__header",children:[Object(N.jsx)("h2",{children:"UPVOTES VS DOWNVOTES"}),Object(N.jsx)("span",{className:"vrs__date",children:Object(N.jsx)("input",{type:"date",id:"fecha",name:"fecha",defaultValue:this.state.fecha,onChange:function(t){e.changeDate(t)}})})]}),Object(N.jsx)("div",{className:"vrs__chart",children:Object(N.jsx)(A,{upvotes:this.state.vs_upvotes,downvotes:this.state.vs_downvotes})})]}),Object(N.jsxs)("div",{className:"top__container",children:[Object(N.jsx)("div",{className:"top__header",children:Object(N.jsx)("h2",{children:"TOP HASHTAGS"})}),Object(N.jsx)("div",{className:"top__chart",children:Object(N.jsx)(R,{top_five:this.state.top_five})})]})]}),Object(N.jsxs)("div",{className:"posts__container",children:[Object(N.jsx)("h2",{children:"ENTRADAS RECIENTES"}),Object(N.jsxs)("div",{className:"posts__header",children:[Object(N.jsx)("p",{id:"user__header",children:"Usuario"}),Object(N.jsx)("p",{id:"date__header",children:"Fecha"}),Object(N.jsx)("p",{id:"text__header",children:"Comentario"}),Object(N.jsx)("p",{id:"hashtags__header",children:"Hashtags"})]}),Object(N.jsx)("div",{className:"posts__chart",children:this.state.posts.map((function(t){return Object(N.jsx)(M,{username:t.username,date:t.fecha,text:t.content,id:t.id,hashtags:t.hashtags,db:e.state.db},e.state.db+t.id)}))})]})]})]})}}]),s}(a.Component),Q=W,Y=(s(138),s(139),function(e){return Object(N.jsxs)("a",{href:e.url,className:"sidebarOption",onClick:e.click,children:[Object(N.jsx)(e.Icon,{}),e.text]})}),q=s(79),K=s.n(q),X=s(80),Z=s.n(X),$=s(81),ee=s.n($),te=s(82),se=s.n(te),ae=s(83),ne=s.n(ae),ce=s(78),oe=s.n(ce);var ie=function(e){var t=Object(a.useState)({root:"root__sidebar",side:"sidebar",dehaze:"dehaze"}),s=Object(i.a)(t,2),n=s[0],c=s[1];return Object(N.jsxs)("div",{className:n.root,children:[Object(N.jsx)("div",{className:n.dehaze,onClick:function(){var e="root__sidebar"===n.root?"root__hidden":"root__sidebar",t="sidebar"===n.side?"sidebar__hidden":"sidebar",s="dehaze"===n.dehaze?"dehaze__hidden":"dehaze";c({root:e,side:t,dehaze:s})},children:Object(N.jsx)(oe.a,{})}),Object(N.jsxs)("div",{className:n.side,children:[Object(N.jsx)(Y,{Icon:K.a,text:"Home",click:e.feed}),Object(N.jsx)(Y,{Icon:Z.a,text:"Explore",url:"https://twitter.com/explore"}),Object(N.jsx)(Y,{Icon:ee.a,text:"Notifications"}),Object(N.jsx)(Y,{Icon:se.a,text:"Administrator",click:e.reports}),Object(N.jsx)(Y,{Icon:ne.a,text:"More"}),Object(N.jsx)(S.a,{variant:"outlined",className:"sidebar__tweet",fullWidth:!0,children:"Postear"})]})]})},re=s(163),de=s(56);s(140);var le=function(){return Object(N.jsxs)("div",{className:"widgets",children:[Object(N.jsxs)("div",{className:"widgets__input",children:[Object(N.jsx)(re.a,{className:"widgets__searchIcon"}),Object(N.jsx)("input",{placeholder:"Search Post",type:"text"})]}),Object(N.jsxs)("div",{className:"widgets__widgetContainer",children:[Object(N.jsx)("h2",{children:"Tendencias para ti"}),Object(N.jsx)("div",{className:"widgets__timeline",children:Object(N.jsx)(de.a,{sourceType:"profile",screenName:"cloudnativegt",options:{height:500},theme:"dark"})}),Object(N.jsx)("div",{className:"widgets__embed",children:Object(N.jsx)(de.b,{tweetId:"1443342195847741444"})})]}),Object(N.jsxs)("div",{className:"widgets__widgetCopyright",children:[Object(N.jsx)("p",{children:"Universidad de San Carlos de Guatemala"}),Object(N.jsx)("p",{children:"Sistemas Operativos 1\xa0 \xb7 \xa0Grupo 7"}),Object(N.jsx)("p",{children:"\xa9 2021 Proyecto 1\xa0 \xb7 \xa0Segundo Semestre"})]})]})};var he=function(){var e=Object(a.useState)("home"),t=Object(i.a)(e,2),s=t[0],n=t[1];return Object(N.jsxs)("div",{className:"app",children:[Object(N.jsx)(ie,{reports:function(){n("reports")},feed:function(){n("home")}}),"reports"===s?Object(N.jsx)(Q,{}):Object(N.jsx)(E,{}),"home"===s&&Object(N.jsx)(le,{})]})},pe=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,166)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;s(e),a(e),n(e),c(e),o(e)}))};o.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(he,{})}),document.getElementById("root")),pe()},91:function(e,t,s){},92:function(e,t,s){},93:function(e,t,s){},95:function(e,t,s){}},[[141,1,2]]]);
//# sourceMappingURL=main.bdf6707b.chunk.js.map